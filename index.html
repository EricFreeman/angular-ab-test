<head>
	<script src="scripts/lib/angular.min.js"></script>
	<script src="scripts/lib/jquery-1.11.1.min.js"></script>
	<script src="scripts/lib/angular-route.min.js"></script>
	<script src="scripts/lib/bootstrap.min.js"></script>
	<script src="scripts/main.js"></script>
	<script src="scripts/angular-ab-test.js"></script>
	<link rel="stylesheet" type="text/css" href="css/reset.css" />
	<link rel="stylesheet" type="text/css" href="css/bootstrap.min.css" />
	<link href='http://fonts.googleapis.com/css?family=Open+Sans' rel='stylesheet' type='text/css'>
	<title>Angular A/B Test</title>
</head>
<body ng-app="abtest">
	<nav class="navbar navbar-default navbar-static-top">
      <div class="container">
        <div class="navbar-header">
			<a class="navbar-brand" href="#">Angular A/B Test</a>
		</div>
		<div id="navbar" class="navbar-collapse collapse" ng-controller="HeaderController">
			<ul class="nav navbar-nav">
				<li ng-class="{ active: isActive('/example')}"><a href="#/example">Example</a></li>
				<li ng-class="{ active: isActive('/documentation')}"><a href="#/documentation">Documentation</a></li>
			</ul>
        </div>
      </div>
    </nav>
	<div class="container">
		<ng-view>Loading...</ng-view>

		<script type="text/ng-template" id="example.html">
			<div ng-init="load()">
				<h1 class="page-header">Example</h1>

				<div class="alert alert-info">If this is your first time here, you've automatically been placed into the 'a' variation for the experiment.  This would normally be set by Optimizely or SiteSpect or whatever other bullshit A/B testing framework your business people have tricked the company into using.</div>

				<div class="page-header">
					<button type="button" class="btn" ng-click="switchVariant('a')">Variant A</button>
					<button type="button" class="btn" ng-click="switchVariant('b')">Variant B</button>
				</div>

				<experiment name="sample-test" variant="a">
					<p>a variation</p>
					<button type="button" class="btn btn-default">
						<span>Some lame-ass button</span>
					</button>
					<p>This button is boring as shit and I'd be completely surprised if anybody even clicked it.</p>
				</experiment>
				<experiment name="sample-test" variant="b">
					<p>b variation</p>
					<button type="button" class="btn btn-primary btn-lg">
						<span>Holy shit, what a sick button</span>
					</button>
					<p>I don't even need an a/b test to know this button is killing it.</p>
				</experiment>
			</div>
		</script>

		<script type="text/ng-template" id="documentation.html">
			<h1 class="page-header">Documentation</h1>

			<p>Simple A/B testing directive because Optimizely is pretty rough at working with AngularJS projects.</p>

			<h4 class="page-header">In Optimizely, SiteSpect<small>, or whatever else you're using I'm sure it'll probably work...</small></h4>

			<p>Setup tests by calling handy helper methods like <code>window.addTest(testName, variant)</code> or <code>window.updateTest(testName, variant)</code>.</p>

			<h4 class="page-header">In your code base</h4>

			<p>Add an <code>&lt;experiment&gt;</code> tag like so:</p>
			
			<pre>&lt;experiment name="sample-test" variant="a"&gt;
	&lt;p&gt;a variation&lt;/p&gt;
&lt;/experiment&gt;</pre>

			<p>It will show if there's a value for `abtests` in your localStorage that happens to look like this: <code>[{"name":"sample-test","value":"a"}]</code>.</p>
		</script>
	</div>
</body>
